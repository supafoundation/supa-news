(this.webpackJsonpnews=this.webpackJsonpnews||[]).push([[0],{1041:function(e,t,n){},1042:function(e,t,n){},1043:function(e,t,n){},1044:function(e,t,n){},1045:function(e,t,n){},1047:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n(15),c=n(52),i=n.n(c),s=n(88),o=n.n(s),u=n(19),l=n(0),d=n.n(l),j=n(579),b=n(13),p=n(14),O=Object(b.a)((function e(){Object(p.a)(this,e),this.login=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("auth/login",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),f=n(562),m=n.n(f),x=n(582),h=n(572),g={walletlink:{package:n.n(h).a,options:{appName:"Web 3 Modal Demo",infuraId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_SUPA:"https://be.chainnels.com/"}).INFURA_KEY}},walletconnect:{package:x.a,options:{infuraId:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_SUPA:"https://be.chainnels.com/"}).INFURA_KEY}}},v=n(111),k=(n(878),n(29)),_=n(7),y=d.a.createContext({token:"",signin:function(){},signout:function(){},checkToken:function(){}});function w(e){var t=e.children,n=Object(l.useState)(localStorage.getItem("access_token")),a=Object(u.a)(n,2),r=a[0],c=a[1],i={token:r,signin:function(e,t){localStorage.setItem("access_token",e),c(e),t()},signout:function(e){localStorage.removeItem("access_token"),e()},checkToken:function(e){var t=localStorage.getItem("access_token");c(t),t&&e()}};return Object(_.jsx)(y.Provider,{value:i,children:t})}function S(){return d.a.useContext(y)}function I(e){var t=e.children,n=S(),a=Object(k.l)();return n.token?t:Object(_.jsx)(k.a,{to:"/login",state:{from:a},replace:!0})}var C=function(e){if(!e)return"No Account";var t=e.match(/^(0x[a-zA-Z0-9]{2})[a-zA-Z0-9]+([a-zA-Z0-9]{2})$/);return t?"".concat(t[1],"\u2026").concat(t[2]):e},z=new m.a({cacheProvider:!0,providerOptions:g});function F(){var e=Object(k.n)(),t=Object(l.useState)(),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)(),o=Object(u.a)(s,2),d=o[0],b=o[1],p=Object(l.useState)(),f=Object(u.a)(p,2),m=f[0],x=f[1],h=S(),g=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var t,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z.connect();case 2:return t=e.sent,n=new j.a.providers.Web3Provider(t),e.next=6,n.listAccounts();case 6:r=e.sent,i(t),b(n),r&&(x(r[0]),localStorage.setItem("wallet_address",r[0]));case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,c,i,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(d){t.next=2;break}return t.abrupt("return");case 2:return n="{timestamp:".concat((new Date).getTime(),",domain:chainnels.com}"),t.next=5,d.provider.request({method:"personal_sign",params:[n,m]});case 5:return r=t.sent,c={address:null===m||void 0===m?void 0:m.toLocaleLowerCase(),message:n,signature:r,device_id:""},i=new O,t.next=10,i.login(c);case 10:200==(s=t.sent).code&&(localStorage.setItem("access_token",s.data.web_token),localStorage.setItem("refresh_token",s.data.refresh_token),h.signin(s.data.web_token,(function(){e("/news")})));case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){h.checkToken((function(){e("/news")})),z.cachedProvider&&g()}),[]),Object(l.useEffect)((function(){if(null!==c&&void 0!==c&&c.on){var e=function(e){e&&x(e[0])};return c.on("accountsChanged",e),function(){c.removeListener&&c.removeListener("accountsChanged",e)}}}),[c]),Object(_.jsx)("div",{className:"login-screen",children:Object(_.jsxs)("div",{children:[!m&&Object(_.jsx)(v.a,{type:"primary",shape:"round",size:"large",onClick:g,children:"Connect Wallet"}),m&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(v.a,{type:"primary",shape:"round",size:"large",onClick:y,children:"Login"}),Object(_.jsx)("div",{children:"Account: ".concat(C(m))})]})]})})}var L=n(315),E=n(244),A=n(35),D=n(585),R=n(170),N=n(1052),T=n(1056),U=Object(b.a)((function e(){Object(p.a)(this,e),this.getAllCategories=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("categories");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),this.deleteCategory=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("categories",{data:{id:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createCategory=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("categories",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateCategory=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("categories",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),q=Object(b.a)((function e(){Object(p.a)(this,e),this.getItemsByCategory=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r){var c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("categories/items/bycategory?category_id=".concat(t,"&page_index=").concat(n,"&page_size=").concat(r));case 2:return c=e.sent,s=c.data,e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),this.deleteItem=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("categories/items",{data:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.createItem=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("categories/items",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.updateItem=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("categories/items",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),M=n(1054),P=n(584),B=n(431),Y=n.n(B),W=["category_id","key"];function V(e){var t=Object(l.useContext)(ge).setLoading,n=e.categories,c=e.selectedCategory,i=e.data,s=e.openForm,o=e.cancelFormDialog,d=e.reloadList,j=e.setSelectedCategory,b=M.a.useForm(),p=Object(u.a)(b,1)[0],O=function(){var e=Object(r.a)(Object(a.a)().mark((function e(n){var r,c,i,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t(!0),r=n.category_id,c=n.key,i=Object(E.a)(n,W),s=new q,!c){e.next=8;break}return e.next=6,s.updateItem({category_id:r,key:c,item:i});case 6:e.next=10;break;case 8:return e.next=10,s.createItem({category_id:r,item:i});case 10:f(),j(r),d(r);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){o(),p.resetFields()};return Object(l.useEffect)((function(){i?p.setFieldsValue(Object(A.a)(Object(A.a)({},i),{},{category_id:c})):p.setFieldsValue({category_id:n.length>0?n[0].id:""})}),[i]),Object(_.jsx)(T.a,{zIndex:0,style:{top:20},title:null!==i&&void 0!==i&&i.key?"Edit":"Create",open:s,onOk:function(){return p.submit()},onCancel:f,afterClose:f,width:"60%",children:Object(_.jsxs)(M.a,{form:p,name:"basic",labelCol:{span:4},initialValues:{remember:!0},onFinish:O,autoComplete:"off",children:[Object(_.jsx)(M.a.Item,{name:"key",noStyle:!0,children:Object(_.jsx)(P.a,{type:"hidden"})}),Object(_.jsx)(M.a.Item,{label:"Category",name:"category_id",children:Object(_.jsx)(R.a,{value:n.length>0?n[0].id:"",style:{width:200},children:n.map((function(e){return Object(_.jsx)(R.a.Option,{value:e.id,children:e.name},e.id)}))})}),Object(_.jsx)(M.a.Item,{label:"Title",name:"title",rules:[{required:!0,message:"Title is required!"}],children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Short Description",name:"short_description",rules:[{required:!0,message:"Short Description required"}],children:Object(_.jsx)(Y.a,{rows:3})}),Object(_.jsx)(M.a.Item,{label:"Description",name:"description",children:Object(_.jsx)(Y.a,{rows:10})}),Object(_.jsx)(M.a.Item,{label:"Image URL",name:"image_url",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Video URL",name:"video_url",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"External URL",name:"external_url",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Collection Name",name:"collection_name",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Contract Address",name:"contract_address",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Token ID",name:"token_id",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Project Creator",name:"project_creator",children:Object(_.jsx)(P.a,{})}),Object(_.jsx)(M.a.Item,{label:"Influencer ID",name:"influencer_id",children:Object(_.jsx)(P.a,{})})]})})}n(985);var K=["key"];function H(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)(""),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)([]),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)([]),x=Object(u.a)(m,2),h=x[0],g=x[1],k=Object(l.useState)(!1),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(l.useState)(!1),C=Object(u.a)(I,2),z=C[0],F=C[1],L=Object(l.useState)(),M=Object(u.a)(L,2),P=M[0],B=M[1],Y=Object(l.useState)({pageIndex:1,pageSize:6,totalRecords:0}),W=Object(u.a)(Y,2),H=W[0],Z=W[1],J=[{title:"Title",dataIndex:"title",key:"title"},{title:"Image",dataIndex:"image_url",key:"image_url",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.image_url&&Object(_.jsx)("img",{src:t.image_url,width:80,height:80})})}},{title:"Video Url",dataIndex:"video_url",key:"video_url",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.video_url&&Object(_.jsx)("a",{href:t.video_url,children:"Link"})})}},{title:"Short Description",dataIndex:"short_description",key:"short_description"},{title:"External Link",dataIndex:"external_url",key:"external_url",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.external_url&&Object(_.jsx)("a",{href:t.external_url,children:"Link"})})}},{title:"Action",key:"action",render:function(e,t){return Object(_.jsxs)(D.b,{size:"middle",children:[Object(_.jsx)("a",{href:"#!",onClick:function(){return $(t)},children:"Edit"}),Object(_.jsx)("a",{href:"#!",onClick:function(){return Q(t)},children:"Delete"})]})}}],X=function(){var t=Object(r.a)(Object(a.a)().mark((function t(n){var r,c,i,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),i=new q,t.next=4,i.getItemsByCategory(n,H.pageIndex,H.pageSize);case 4:s=t.sent,f(null!==(r=s.data.data)&&void 0!==r?r:[]),Z(Object(A.a)(Object(A.a)({},H),{},{totalRecords:s.data.total_records})),g(null!==(c=s.data.data)&&void 0!==c?c:[]),e(!1);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),G=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,c,s,o;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),c=new U,t.next=4,c.getAllCategories();case 4:s=t.sent,o=null===(n=s.data)||void 0===n?void 0:n.map((function(e){return{id:e.id,name:e.name}})),i(o),e(!1),s.data&&(null===(r=s.data)||void 0===r?void 0:r.length)>0&&j(s.data[0].id);case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(l.useEffect)((function(){d&&(Z(Object(A.a)(Object(A.a)({},H),{},{pageIndex:1})),X(d))}),[d]),Object(l.useEffect)((function(){d&&X(d)}),[H.pageIndex]);var $=function(e){B(e),F(!0)},Q=function(e){B(e),S(!0)},ee=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,c;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!P){t.next=15;break}return e(!0),S(!1),B(null),n=new q,r=O.filter((function(e){return e.key==P.key}))[0],r.key,c=Object(E.a)(r,K),t.next=8,n.deleteItem({category_id:d,item:c});case 8:if(1!=H.pageIndex){t.next=13;break}return t.next=11,X(d);case 11:t.next=14;break;case 13:Z(Object(A.a)(Object(A.a)({},H),{},{pageIndex:1}));case 14:e(!1);case 15:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){G()}),[]),Object(_.jsxs)("div",{className:"list-news-screen",children:[Object(_.jsxs)(D.b,{style:{marginBottom:16},children:[Object(_.jsx)(R.a,{value:d,style:{width:200},onChange:function(e){e!=d&&j(e)},children:c.map((function(e){return Object(_.jsx)(R.a.Option,{value:e.id,children:e.name},e.id)}))}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){return $(null)},disabled:0==c.length,children:"Create Item"})]}),Object(_.jsx)(N.a,{columns:J,dataSource:h,pagination:{position:["bottomCenter"],pageSize:H.pageSize,current:H.pageIndex,total:H.totalRecords,onChange:function(e,t){Z(Object(A.a)(Object(A.a)({},H),{},{pageIndex:e}))}}}),Object(_.jsx)(T.a,{title:"Confirm",open:w,onOk:ee,onCancel:function(){B(null),S(!1)},zIndex:0,children:Object(_.jsx)("p",{children:"Are you sure you want to delete?"})}),Object(_.jsx)(V,{categories:c,selectedCategory:d,data:P,openForm:z,cancelFormDialog:function(){B(null),F(!1)},reloadList:function(e){return X(e)},setSelectedCategory:function(e){return j(e)}})]})}var Z=n(351);n(1041);function J(e){var t,n=Object(l.useContext)(ge).setLoading,c=e.data,i=e.openForm,s=e.cancelFormDialog,o=e.reloadList,d=M.a.useForm(),j=Object(u.a)(d,1)[0],b=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n(!0),r=new U,!c){e.next=7;break}return e.next=5,r.updateCategory(t);case 5:e.next=9;break;case 7:return e.next=9,r.createCategory(t);case 9:n(!1),p(),o();case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){s(),j.resetFields()};return Object(l.useEffect)((function(){c&&j.setFieldsValue(c)}),[c]),Object(_.jsx)(T.a,{zIndex:0,title:c?"Edit":"Create",open:i,onOk:function(){return j.submit()},onCancel:p,afterClose:p,width:"40%",children:Object(_.jsxs)(M.a,{form:j,name:"basic",labelCol:{span:4},initialValues:{remember:!0},onFinish:b,autoComplete:"off",children:[Object(_.jsx)(M.a.Item,{name:"id",noStyle:!0,children:Object(_.jsx)(P.a,{type:"hidden"})}),Object(_.jsx)(M.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Name is required!"}],children:Object(_.jsx)(P.a,{value:null!==(t=null===c||void 0===c?void 0:c.name)&&void 0!==t?t:""})})]})})}function X(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)(null),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(!1),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)(!1),x=Object(u.a)(m,2),h=x[0],g=x[1],k=[{title:"Name",dataIndex:"name",key:"name"},{title:"Action",key:"action",render:function(e,t){return Object(_.jsxs)(D.b,{size:"middle",children:[Object(_.jsx)("a",{href:"#!",onClick:function(){return w(t)},children:"Edit"}),Object(_.jsx)("a",{href:"#!",onClick:function(){return S(t)},children:"Delete"})]})}}],y=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,c,s;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),r=new U,t.next=4,r.getAllCategories();case 4:c=t.sent,s=null===(n=c.data)||void 0===n?void 0:n.map((function(e){return{id:e.id,name:e.name}})),i(s),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(e){j(e),g(!0)},S=function(e){j(e),f(!0)},I=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),f(!1),r=new U,t.next=5,r.deleteCategory(null!==(n=null===d||void 0===d?void 0:d.id)&&void 0!==n?n:"");case 5:j(null),y();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){y()}),[]),Object(_.jsxs)("div",{className:"list-categories-screen",children:[Object(_.jsx)(D.b,{style:{marginBottom:16},children:Object(_.jsx)(v.a,{onClick:function(){return w(null)},children:"Create Category"})}),Object(_.jsx)(N.a,{columns:k,dataSource:c}),Object(_.jsx)(T.a,{title:"Confirm",open:O,onOk:I,onCancel:function(){j(null),f(!1)},zIndex:0,children:Object(_.jsx)("p",{children:"Are you sure you want to delete?"})}),Object(_.jsx)(J,{data:d,openForm:h,cancelFormDialog:function(){j(null),g(!1)},reloadList:function(){return y()}})]})}var G=n(1053),$=n(1051),Q=Object(b.a)((function e(){Object(p.a)(this,e),this.addCells=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/supacharges/addcells",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.addSparks=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/supacharges/addsparks",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.searchTransLogs=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n,r,c,s,o){var u,l;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/supacharges/searchtranslogs?keyword=".concat(t,"&from_date=").concat(r,"&to_date=").concat(c,"&status=").concat(n,"&page_index=").concat(s,"&page_size=").concat(o));case 2:return u=e.sent,l=u.data,e.abrupt("return",l);case 5:case"end":return e.stop()}}),e)})));return function(t,n,a,r,c,i){return e.apply(this,arguments)}}(),this.getTopSparkBalance=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/supacharges/gettopsparkbalance?page_index=".concat(t,"&page_size=").concat(n));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()})),ee=Object(b.a)((function e(){Object(p.a)(this,e),this.searchUsers=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/users/search",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.lockUser=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/users/lockuser",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.unlockUser=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.put("/users/unlockuser",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.getTopRefer=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t,n){var r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/users/gettoprefer?page_index=".concat(t,"&page_size=").concat(n));case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}));function te(e){var t=Object(l.useContext)(ge).setLoading,n=e.openForm,c=e.cancel,i=e.reloadList,s=Object(l.useState)({pageIndex:1,pageSize:1e5,totalRecords:0}),o=Object(u.a)(s,1)[0],d=Object(l.useState)([]),j=Object(u.a)(d,2),b=j[0],p=j[1],O=M.a.useForm(),f=Object(u.a)(O,1)[0],m=function(){var e=Object(r.a)(Object(a.a)().mark((function e(n){var r,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),r=b.find((function(e){return e.nick_name===n.nick_name})),c={wallet_address:null===r||void 0===r?void 0:r.wallet_address,amount:parseFloat(n.amount)},s=new Q,e.next=6,s.addCells(c);case 6:i(),x();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){c(),f.resetFields()},h=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var t,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ee,e.next=3,n.searchUsers({keyword:"",page_index:o.pageIndex,page_size:o.pageSize});case 3:r=e.sent,p(null!==(t=r.data.users)&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){h()}),[]),Object(_.jsx)(T.a,{zIndex:0,title:"Add Cells",open:n,onOk:function(){return f.submit()},onCancel:x,afterClose:x,width:"40%",children:Object(_.jsxs)(M.a,{form:f,name:"basic",initialValues:{remember:!0},onFinish:m,autoComplete:"off",labelCol:{span:6},style:{maxWidth:600},children:[Object(_.jsx)(M.a.Item,{label:"Select User",name:"nick_name",rules:[{required:!0,message:"User is required"}],children:Object(_.jsx)($.a,{allowClear:!0,notFoundContent:"No Data",options:b.map((function(e){return{label:e.nick_name,value:e.nick_name}})),filterOption:function(e,t){var n=b.find((function(e){return e.nick_name===t.value}));return!!n&&(-1!==n.nick_name.toUpperCase().indexOf(e.toUpperCase())||n.wallet_address===e.trim())},onBlur:function(){var e=f.getFieldValue("nick_name");b.find((function(t){return t.nick_name===e}))||f.setFieldsValue({nick_name:""})}})}),Object(_.jsx)(M.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Amount is required"}],children:Object(_.jsx)(P.a,{type:"number"})})]})})}var ne=Object(b.a)((function e(){Object(p.a)(this,e),this.searchCellLog=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/logs/searchcelllog",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.searchSparkLog=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/logs/searchsparklog",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),ae=n(89),re=n.n(ae);function ce(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)([]),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(!1),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),x=Object(u.a)(m,2),h=x[0],g=x[1],k=Object(l.useState)(""),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(l.useState)(""),C=Object(u.a)(I,2),z=C[0],F=C[1],L=[{title:"Time",dataIndex:"created_at",key:"created_at",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:re()(t.created_at).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"Reason",dataIndex:"reason",key:"reason",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:E(t.reason)})}},{title:"Added Amount",dataIndex:"added_amount",key:"added_amount",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.added_amount.toLocaleString("en-US")})}},{title:"Deducted Amount",dataIndex:"deducted_amount",key:"deducted_amount",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.deducted_amount.toLocaleString("en-US")})}},{title:"Balance Before",dataIndex:"before_balance",key:"before_balance",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.before_balance.toLocaleString("en-US")})}},{title:"Balance After",dataIndex:"after_balance",key:"after_balance",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.after_balance.toLocaleString("en-US")})}}],E=function(e){var t="";switch(e){case 1:t="IRONSOURCE";break;case 2:t="CHAT_DEDUCTION";break;case 3:t="REGISTER";break;case 4:t="PURCHASE";break;case 5:t="REFER";break;case 6:t="REFER_TO_CHANNEL";break;case 7:t="ADMIN"}return t},R=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),r=new ne,t.next=4,r.searchCellLog({keyword:c,from_date:w,to_date:z,page_index:h.pageIndex,page_size:h.pageSize});case 4:i=t.sent,j(null!==(n=i.data.records)&&void 0!==n?n:[]),g(Object(A.a)(Object(A.a)({},h),{},{totalRecords:i.data.total})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){R()}),[h.pageIndex]),Object(_.jsxs)("div",{className:"list",children:[Object(_.jsxs)(D.b,{style:{marginBottom:16},children:[Object(_.jsx)(P.a,{className:"search",allowClear:!0,placeholder:"Wallet address or nick name",onChange:function(e){return i(e.target.value)},onPressEnter:function(){return R()}}),Object(_.jsx)(G.a,{placeholder:"From date",onChange:function(e,t){S(t)}}),Object(_.jsx)(G.a,{placeholder:"To date",onChange:function(e,t){F(t)}}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){return R()},children:"Search"}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){f(!0)},children:"Add Cell"})]}),Object(_.jsx)(N.a,{rowKey:"_id",columns:L,dataSource:d,pagination:{position:["bottomCenter"],pageSize:h.pageSize,current:h.pageIndex,total:h.totalRecords,onChange:function(e,t){g(Object(A.a)(Object(A.a)({},h),{},{pageIndex:e}))}}}),Object(_.jsx)(te,{openForm:O,cancel:function(){f(!1)},reloadList:function(){g(Object(A.a)(Object(A.a)({},h),{},{pageIndex:1})),R()}})]})}function ie(e){var t=Object(l.useContext)(ge).setLoading,n=e.openForm,c=e.cancel,i=e.reloadList,s=Object(l.useState)({pageIndex:1,pageSize:1e5,totalRecords:0}),o=Object(u.a)(s,1)[0],d=Object(l.useState)([]),j=Object(u.a)(d,2),b=j[0],p=j[1],O=M.a.useForm(),f=Object(u.a)(O,1)[0],m=function(){var e=Object(r.a)(Object(a.a)().mark((function e(n){var r,c,s;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(!0),r=b.find((function(e){return e.nick_name===n.nick_name})),c={wallet_address:null===r||void 0===r?void 0:r.wallet_address,amount:parseFloat(n.amount)},s=new Q,e.next=6,s.addSparks(c);case 6:i(),x();case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){c(),f.resetFields()},h=function(){var e=Object(r.a)(Object(a.a)().mark((function e(){var t,n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ee,e.next=3,n.searchUsers({keyword:"",page_index:o.pageIndex,page_size:o.pageSize});case 3:r=e.sent,p(null!==(t=r.data.users)&&void 0!==t?t:[]);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){h()}),[]),Object(_.jsx)(T.a,{zIndex:0,title:"Add Spacks",open:n,onOk:function(){return f.submit()},onCancel:x,afterClose:x,width:"40%",children:Object(_.jsxs)(M.a,{form:f,name:"basic",initialValues:{remember:!0},onFinish:m,autoComplete:"off",labelCol:{span:6},style:{maxWidth:600},children:[Object(_.jsx)(M.a.Item,{label:"Select User",name:"nick_name",rules:[{required:!0,message:"User is required"}],children:Object(_.jsx)($.a,{allowClear:!0,notFoundContent:"No Data",options:b.map((function(e){return{label:e.nick_name,value:e.nick_name}})),filterOption:function(e,t){var n=b.find((function(e){return e.nick_name===t.value}));return!!n&&(-1!==n.nick_name.toUpperCase().indexOf(e.toUpperCase())||n.wallet_address===e.trim())},onBlur:function(){var e=f.getFieldValue("nick_name");b.find((function(t){return t.nick_name===e}))||f.setFieldsValue({nick_name:""})}})}),Object(_.jsx)(M.a.Item,{label:"Amount",name:"amount",rules:[{required:!0,message:"Amount is required"}],children:Object(_.jsx)(P.a,{type:"number"})})]})})}function se(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)([]),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(!1),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),x=Object(u.a)(m,2),h=x[0],g=x[1],k=Object(l.useState)(""),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(l.useState)(""),C=Object(u.a)(I,2),z=C[0],F=C[1],L=[{title:"Time",dataIndex:"created_at",key:"created_at",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:re()(t.created_at).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"Reason",dataIndex:"Reason",key:"reason",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:E(t.reason)})}},{title:"Added Amount",dataIndex:"added_amount",key:"added_amount",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.added_amount.toLocaleString("en-US")})}},{title:"Deducted Amount",dataIndex:"deducted_amount",key:"deducted_amount",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.deducted_amount.toLocaleString("en-US")})}},{title:"Balance Before",dataIndex:"before_balance",key:"before_balance",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.before_balance.toLocaleString("en-US")})}},{title:"Balance After",dataIndex:"after_balance",key:"after_balance",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.after_balance.toLocaleString("en-US")})}}],E=function(e){var t="";switch(e){case 1:t="DAILY";break;case 2:t="ADMIN"}return t},R=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),r=new ne,t.next=4,r.searchSparkLog({keyword:c,from_date:w,to_date:z,page_index:h.pageIndex,page_size:h.pageSize});case 4:i=t.sent,j(null!==(n=i.data.records)&&void 0!==n?n:[]),g(Object(A.a)(Object(A.a)({},h),{},{totalRecords:i.data.total})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){R()}),[h.pageIndex]),Object(_.jsxs)("div",{className:"list",children:[Object(_.jsxs)(D.b,{style:{marginBottom:16},children:[Object(_.jsx)(P.a,{className:"search",allowClear:!0,placeholder:"Wallet address or nick name",onChange:function(e){return i(e.target.value)},onPressEnter:function(){return R()}}),Object(_.jsx)(G.a,{placeholder:"From date",onChange:function(e,t){S(t)}}),Object(_.jsx)(G.a,{placeholder:"To date",onChange:function(e,t){F(t)}}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){return R()},children:"Search"}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){f(!0)},children:"Add Spack"})]}),Object(_.jsx)(N.a,{rowKey:"_id",columns:L,dataSource:d,pagination:{position:["bottomCenter"],pageSize:h.pageSize,current:h.pageIndex,total:h.totalRecords,onChange:function(e,t){g(Object(A.a)(Object(A.a)({},h),{},{pageIndex:e}))}}}),Object(_.jsx)(ie,{openForm:O,cancel:function(){f(!1)},reloadList:function(){g(Object(A.a)(Object(A.a)({},h),{},{pageIndex:1})),R()}})]})}var oe=n(1057);function ue(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)([]),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(0),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),x=Object(u.a)(m,2),h=x[0],g=x[1],k=[{title:"Nick name",dataIndex:"nick_name",key:"nick_name"},{title:"Wallet address",dataIndex:"wallet_address",key:"wallet_address"},{title:"Is Locked",key:"action",render:function(e,t){return Object(_.jsxs)(D.b,{size:"middle",children:[t.is_locked&&Object(_.jsx)(oe.a,{defaultChecked:!0,onChange:function(e){return y(e,t)}}),!t.is_locked&&Object(_.jsx)(oe.a,{onChange:function(e){return y(e,t)}})]})}}],y=function(e,t){var n=new ee;e?n.lockUser({wallet_address:t.wallet_address}):n.unlockUser({wallet_address:t.wallet_address}),j(d.map((function(e){return e.wallet_address===t.wallet_address?Object(A.a)(Object(A.a)({},e),{},{is_locked:!0}):e})))},w=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),r=new ee,t.next=4,r.searchUsers({keyword:c,search_type:O,page_index:h.pageIndex,page_size:h.pageSize});case 4:i=t.sent,j(null!==(n=i.data.users)&&void 0!==n?n:[]),g(Object(A.a)(Object(A.a)({},h),{},{totalRecords:i.data.total_users})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){w()}),[h.pageIndex]),Object(_.jsxs)("div",{className:"list",children:[Object(_.jsxs)(D.b,{style:{marginBottom:16},children:[Object(_.jsxs)(R.a,{value:O.toString(),style:{width:200},onChange:function(e){f(parseInt(e))},children:[Object(_.jsx)(R.a.Option,{value:"0",children:"All Users"},"0"),Object(_.jsx)(R.a.Option,{value:"1",children:"Locked Users"},"1")]}),Object(_.jsx)(P.a,{className:"search",allowClear:!0,style:{width:250},placeholder:"Wallet address or nick name",onChange:function(e){return i(e.target.value)},onPressEnter:function(){return w()}}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){return w()},children:"Search"})]}),Object(_.jsx)(N.a,{rowKey:"_id",columns:k,dataSource:d,pagination:{position:["bottomCenter"],pageSize:h.pageSize,current:h.pageIndex,total:h.totalRecords,onChange:function(e,t){g(Object(A.a)(Object(A.a)({},h),{},{pageIndex:e}))}}})]})}n(1042),n(1043);var le=Object(b.a)((function e(){Object(p.a)(this,e),this.getAllConfigs=Object(r.a)(Object(a.a)().mark((function e(){var t,n;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/lottery/getallconfigs");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)}))),this.saveConfig=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/lottery/saveconfig",t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.deleteConfig=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/lottery/deleteconfig",{data:{channel_id:t}});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),this.spin=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/lottery/spin",{channel_id:t});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})),de=["key"];function je(e){var t,n,c,i,s,o=Object(l.useContext)(ge).setLoading,d=e.data,j=e.openForm,b=e.cancelFormDialog,p=e.reloadList,O=M.a.useForm(),f=Object(u.a)(O,1)[0],m=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),t.start_timestamp=parseFloat(t.start_timestamp.format("X")),t.end_timestamp=parseFloat(t.end_timestamp.format("X")),t.min=parseFloat(t.min),t.max=parseFloat(t.max),t.limit=parseFloat(t.limit),t.number_of_winners=parseFloat(t.number_of_winners),t.key,n=Object(E.a)(t,de),r=new le,e.next=11,r.saveConfig(n);case 11:o(!1),x(),p();case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){b(),f.resetFields()};return Object(l.useEffect)((function(){var e,t;d&&f.setFieldsValue(Object(A.a)(Object(A.a)({},d),{},{start_timestamp:re()(1e3*(null!==(e=null===d||void 0===d?void 0:d.start_timestamp)&&void 0!==e?e:0)),end_timestamp:re()(1e3*(null!==(t=null===d||void 0===d?void 0:d.end_timestamp)&&void 0!==t?t:0))}))}),[d]),Object(_.jsx)(T.a,{zIndex:0,title:d?"Edit":"Create",open:j,onOk:function(){return f.submit()},onCancel:x,afterClose:x,width:"40%",children:Object(_.jsxs)(M.a,{form:f,name:"basic",labelCol:{span:6},onFinish:m,autoComplete:"off",children:[Object(_.jsx)(M.a.Item,{label:"Channel ID",name:"channel_id",rules:[{required:!0,message:"Channel ID is required!"}],children:Object(_.jsx)(P.a,{value:null!==(t=null===d||void 0===d?void 0:d.channel_id)&&void 0!==t?t:""})}),Object(_.jsx)(M.a.Item,{label:"Min",name:"min",rules:[{required:!0,message:"Min is required!"}],children:Object(_.jsx)(P.a,{type:"number",value:null!==(n=null===d||void 0===d?void 0:d.min)&&void 0!==n?n:""})}),Object(_.jsx)(M.a.Item,{label:"Max",name:"max",rules:[{required:!0,message:"Max is required!"}],children:Object(_.jsx)(P.a,{type:"number",value:null!==(c=null===d||void 0===d?void 0:d.max)&&void 0!==c?c:""})}),Object(_.jsx)(M.a.Item,{label:"Limit",name:"limit",rules:[{required:!0,message:"Limit is required!"}],children:Object(_.jsx)(P.a,{type:"number",value:null!==(i=null===d||void 0===d?void 0:d.limit)&&void 0!==i?i:""})}),Object(_.jsx)(M.a.Item,{label:"Number Of Winners",name:"number_of_winners",rules:[{required:!0,message:"Number Of Winners is required!"}],children:Object(_.jsx)(P.a,{type:"number",value:null!==(s=null===d||void 0===d?void 0:d.number_of_winners)&&void 0!==s?s:""})}),Object(_.jsx)(M.a.Item,{label:"Start Date",name:"start_timestamp",rules:[{required:!0,message:"Start Date is required!"}],children:Object(_.jsx)(G.a,{showTime:!0,placeholder:"Start Date"})}),Object(_.jsx)(M.a.Item,{label:"End Date",name:"end_timestamp",rules:[{required:!0,message:"End Date is required!"}],children:Object(_.jsx)(G.a,{showTime:!0,placeholder:"End Date"})})]})})}var be=n(1058),pe=n(1055);function Oe(e){var t=e.data,n=e.openNotification,a=e.cancelFormDialog,r=function(){a()};return Object(_.jsxs)(T.a,{zIndex:0,title:"Notification",open:n,onCancel:r,afterClose:r,width:"40%",footer:null,children:[0===t.length&&Object(_.jsx)("p",{children:"Something went wrong. There is no winner here!"}),t.length>0&&Object(_.jsx)(be.b,{header:Object(_.jsx)("h4",{children:"List Of Winners"}),dataSource:t,renderItem:function(e){return Object(_.jsx)(be.b.Item,{children:Object(_.jsx)(pe.a.Text,{children:e.nick_name})},e.nick_name)}})]})}function fe(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)(),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)(!1),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)(!1),x=Object(u.a)(m,2),h=x[0],g=x[1],k=Object(l.useState)(!1),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(l.useState)([]),C=Object(u.a)(I,2),z=C[0],F=C[1],L=Object(l.useState)(!1),E=Object(u.a)(L,2),R=E[0],U=E[1],q=[{title:"Channel ID",dataIndex:"channel_id",key:"channel_id"},{title:"Channel Name",dataIndex:"channel_name",key:"channel_name"},{title:"Min",dataIndex:"min",key:"min"},{title:"Max",dataIndex:"max",key:"max"},{title:"Limit",dataIndex:"limit",key:"limit"},{title:"Number Of Winners",dataIndex:"number_of_winners",key:"number_of_winners"},{title:"Start Date",dataIndex:"start_timestamp",key:"start_timestamp",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:re.a.unix(t.start_timestamp).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"End Date",dataIndex:"end_timestamp",key:"end_timestamp",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:re.a.unix(t.end_timestamp).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"Spin",key:"spin",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:Object(_.jsx)(v.a,{type:"primary",size:"middle",loading:R,onClick:function(){R||W(t.channel_id)},children:"Spin"})})}},{title:"Action",key:"action",render:function(e,t){return Object(_.jsxs)(D.b,{size:"middle",children:[Object(_.jsx)("a",{href:"#!",onClick:function(){return P(t)},children:"Edit"}),Object(_.jsx)("a",{href:"#!",onClick:function(){return B(t)},children:"Delete"})]})}}],M=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),n=new le,t.next=4,n.getAllConfigs();case 4:r=t.sent,i(r.data.map((function(e){return Object(A.a)(Object(A.a)({},e),{},{key:e.channel_id})}))),e(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),P=function(e){j(e),g(!0)},B=function(e){j(e),f(!0)},Y=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),f(!1),r=new le,t.next=5,r.deleteConfig(null!==(n=null===d||void 0===d?void 0:d.channel_id)&&void 0!==n?n:"");case 5:j(void 0),M();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),W=function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return U(!0),n=new le,e.next=4,n.spin(t);case 4:r=e.sent,F(r.data),S(!0),U(!1);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(l.useEffect)((function(){M()}),[]),Object(_.jsxs)("div",{className:"list-lottery-config-screen",children:[Object(_.jsx)(D.b,{style:{marginBottom:16},children:Object(_.jsx)(v.a,{onClick:function(){return P(void 0)},children:"Create Config"})}),Object(_.jsx)(N.a,{columns:q,dataSource:c}),Object(_.jsx)(T.a,{title:"Confirm",open:O,onOk:Y,onCancel:function(){j(void 0),f(!1)},zIndex:0,children:Object(_.jsx)("p",{children:"Are you sure you want to delete?"})}),Object(_.jsx)(je,{data:d,openForm:h,cancelFormDialog:function(){j(void 0),g(!1)},reloadList:function(){return M()}}),Object(_.jsx)(Oe,{data:z,openNotification:w,cancelFormDialog:function(){F([]),S(!1)}})]})}function me(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)(""),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)([]),o=Object(u.a)(s,2),d=o[0],j=o[1],b=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),p=Object(u.a)(b,2),O=p[0],f=p[1],m=Object(l.useState)(""),x=Object(u.a)(m,2),h=x[0],g=x[1],k=Object(l.useState)(""),y=Object(u.a)(k,2),w=y[0],S=y[1],I=Object(l.useState)(0),C=Object(u.a)(I,2),z=C[0],F=C[1],L=[{title:"Time",dataIndex:"timestamp",key:"timestamp",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:re()(t.timestamp).format("MMMM Do YYYY, h:mm:ss a")})}},{title:"Receipt ID",dataIndex:"receipt_id",key:"receipt_id",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.receipt_id})}},{title:"User ID",dataIndex:"user_id",key:"user_id",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.user_id})}},{title:"Nick Name",dataIndex:"nick_name",key:"nick_name",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.nick_name})}},{title:"Status",dataIndex:"status",key:"status",render:function(e,t){return Object(_.jsx)(D.b,{size:"middle",children:t.status?"Success":"Fail"})}}],E=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r,i;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),r=new Q,t.next=4,r.searchTransLogs(c,z,h,w,O.pageIndex,O.pageSize);case 4:i=t.sent,j(null!==(n=i.data.records)&&void 0!==n?n:[]),f(Object(A.a)(Object(A.a)({},O),{},{totalRecords:i.data.total})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){E()}),[O.pageIndex]),Object(_.jsxs)("div",{className:"list",children:[Object(_.jsxs)(D.b,{style:{marginBottom:16},children:[Object(_.jsx)(R.a,{defaultValue:"Status",style:{width:120},onChange:function(e){return F(parseInt(e))},options:[{value:"0",label:"All"},{value:"1",label:"Success"},{value:"2",label:"Fail"}]}),Object(_.jsx)(G.a,{placeholder:"From date",onChange:function(e,t){g(t)}}),Object(_.jsx)(G.a,{placeholder:"To date",onChange:function(e,t){S(t)}}),Object(_.jsx)(P.a,{className:"search",style:{width:250},allowClear:!0,placeholder:"Receipt id or user id or nick name",onChange:function(e){return i(e.target.value)},onPressEnter:function(){return E()}}),Object(_.jsx)(v.a,{type:"primary",onClick:function(){return E()},children:"Search"})]}),Object(_.jsx)(N.a,{rowKey:"_id",columns:L,dataSource:d,pagination:{position:["bottomCenter"],pageSize:O.pageSize,current:O.pageIndex,total:O.totalRecords,onChange:function(e,t){f(Object(A.a)(Object(A.a)({},O),{},{pageIndex:e}))}}})]})}n(1044);function xe(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),o=Object(u.a)(s,2),d=o[0],j=o[1],b=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),n=new ee,t.next=4,n.getTopRefer(d.pageIndex,d.pageSize);case 4:r=t.sent,i(r.data.records),j(Object(A.a)(Object(A.a)({},d),{},{totalRecords:r.data.total})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){b()}),[]),Object(_.jsx)("div",{className:"list-spark-balance-screen",children:Object(_.jsx)(N.a,{rowKey:"nick_name",columns:[{title:"User ID",dataIndex:"user_id",key:"user_id"},{title:"Nick Name",dataIndex:"nick_name",key:"nick_name"},{title:"Total Referal",dataIndex:"total_refered_users",key:"total_refered_users"}],dataSource:c,pagination:{position:["bottomCenter"],pageSize:d.pageSize,current:d.pageIndex,total:d.totalRecords,onChange:function(e,t){j(Object(A.a)(Object(A.a)({},d),{},{pageIndex:e}))}}})})}n(1045);function he(){var e=Object(l.useContext)(ge).setLoading,t=Object(l.useState)([]),n=Object(u.a)(t,2),c=n[0],i=n[1],s=Object(l.useState)({pageIndex:1,pageSize:10,totalRecords:0}),o=Object(u.a)(s,2),d=o[0],j=o[1],b=function(){var t=Object(r.a)(Object(a.a)().mark((function t(){var n,r;return Object(a.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(!0),n=new Q,t.next=4,n.getTopSparkBalance(d.pageIndex,d.pageSize);case 4:r=t.sent,i(r.data.records),j(Object(A.a)(Object(A.a)({},d),{},{totalRecords:r.data.total})),e(!1);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(l.useEffect)((function(){b()}),[]),Object(_.jsx)("div",{className:"list-spark-balance-screen",children:Object(_.jsx)(N.a,{rowKey:"nick_name",columns:[{title:"User ID",dataIndex:"user_id",key:"user_id"},{title:"Nick Name",dataIndex:"nick_name",key:"nick_name"},{title:"Balance",dataIndex:"amount",key:"amount"}],dataSource:c,pagination:{position:["bottomCenter"],pageSize:d.pageSize,current:d.pageIndex,total:d.totalRecords,onChange:function(e,t){j(Object(A.a)(Object(A.a)({},d),{},{pageIndex:e}))}}})})}var ge=d.a.createContext({setLoading:function(){}});function ve(){var e=Object(l.useState)(!1),t=Object(u.a)(e,2),n=t[0],a=t[1];return Object(_.jsx)(w,{children:Object(_.jsx)(Z.a,{spinning:n,size:"large",style:{marginTop:"30vh",zIndex:1e3},children:Object(_.jsx)(ge.Provider,{value:{setLoading:a},children:Object(_.jsx)(L.a,{children:Object(_.jsxs)(k.d,{children:[Object(_.jsx)(k.b,{path:"/",element:Object(_.jsx)(k.a,{to:"/login",replace:!0})}),Object(_.jsx)(k.b,{path:"/login",element:Object(_.jsx)(F,{})}),Object(_.jsx)(k.b,{path:"/categories",element:Object(_.jsx)(I,{children:Object(_.jsx)(X,{})})}),Object(_.jsx)(k.b,{path:"/news",element:Object(_.jsx)(I,{children:Object(_.jsx)(H,{})})}),Object(_.jsx)(k.b,{path:"/cells",element:Object(_.jsx)(I,{children:Object(_.jsx)(ce,{})})}),Object(_.jsx)(k.b,{path:"/sparks",element:Object(_.jsx)(I,{children:Object(_.jsx)(se,{})})}),Object(_.jsx)(k.b,{path:"/users",element:Object(_.jsx)(I,{children:Object(_.jsx)(ue,{})})}),Object(_.jsx)(k.b,{path:"/lottery-config",element:Object(_.jsx)(I,{children:Object(_.jsx)(fe,{})})}),Object(_.jsx)(k.b,{path:"/trans-logs",element:Object(_.jsx)(I,{children:Object(_.jsx)(me,{})})}),Object(_.jsx)(k.b,{path:"/top-balance",element:Object(_.jsx)(I,{children:Object(_.jsx)(he,{})})}),Object(_.jsx)(k.b,{path:"/top-refer",element:Object(_.jsx)(I,{children:Object(_.jsx)(xe,{})})})]})})})})})}n(1046);i.a.defaults.withCredentials=!0,i.a.defaults.baseURL="https://be.chainnels.com/",i.a.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(localStorage.getItem("access_token")),e.headers["Content-Type"]="application/json",e}),(function(e){Promise.reject(e)})),i.a.interceptors.response.use((function(e){return e}),function(){var e=Object(r.a)(Object(a.a)().mark((function e(t){var n,r,c;return Object(a.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(t.response.status),401!=t.response.status){e.next=15;break}return e.next=4,i.a.post("auth/refreshwebtoken",{refresh_token:localStorage.getItem("refresh_token")});case 4:if(n=e.sent,200!=(r=n.data).code){e.next=12;break}return localStorage.setItem("access_token",r.data),c=t.config,e.abrupt("return",i()(c));case 12:localStorage.removeItem("refresh_token"),localStorage.removeItem("access_token"),location.href="/login";case 15:return e.abrupt("return",Promise.reject(t));case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var ke=document.getElementById("root");o.a.render(Object(_.jsx)(ve,{}),ke)},613:function(e,t){},652:function(e,t){},654:function(e,t){},677:function(e,t){},679:function(e,t){},691:function(e,t){},692:function(e,t){},713:function(e,t){},715:function(e,t){},724:function(e,t){},726:function(e,t){},798:function(e,t){},823:function(e,t){},878:function(e,t,n){},880:function(e,t){},881:function(e,t){},985:function(e,t,n){}},[[1047,1,2]]]);
//# sourceMappingURL=main.e009f7b6.chunk.js.map